<style>
  html.glitch-on body {
    animation: glitch-shift 120ms steps(2, end) 0s 4,
      glitch-hue 480ms ease-in-out 0s 1;
  }

  /* Overlay de estática */
  html.glitch-on::before {
    content: "";
    position: fixed;
    inset: -10px;
    pointer-events: none;
    z-index: 99999;
    opacity: 0.35;
    mix-blend-mode: screen;
    background-image:
      repeating-linear-gradient(0deg,
        rgba(255, 255, 255, 0.15) 0px,
        rgba(255, 255, 255, 0.15) 1px,
        transparent 1px,
        transparent 3px);
    animation: glitch-static 160ms steps(3, end) 0s 3;
  }

  /* Opcional: bordes de color desfasados (doble imagen) */
  html.glitch-on body::before,
  html.glitch-on body::after {
    content: "";
    position: fixed;
    inset: -4px;
    mix-blend-mode: screen;
    pointer-events: none;
    z-index: 99998;
    border: 2px solid rgba(56, 189, 248, 0.8);
    /* cyan */
    filter: blur(1px);
    animation: glitch-frame 120ms steps(2, end) 0s 4;
  }

  /* segundo borde con otro color */
  html.glitch-on body::after {
    border-color: rgba(244, 63, 94, 0.8);
    /* magenta-ish */
    transform: translate(-2px, -2px);
  }

  /* Sacudida / desplazamiento del sitio */
  @keyframes glitch-shift {
    0% {
      transform: translate(0, 0);
    }

    20% {
      transform: translate(3px, -2px);
    }

    40% {
      transform: translate(-3px, 2px);
    }

    60% {
      transform: translate(2px, 3px);
    }

    80% {
      transform: translate(-2px, -3px);
    }

    100% {
      transform: translate(0, 0);
    }
  }

  /* Cambios de color rápidos (tipo fallo de monitor) */
  @keyframes glitch-hue {
    0% {
      filter: none;
    }

    25% {
      filter: hue-rotate(25deg) saturate(1.3) contrast(1.1);
    }

    50% {
      filter: hue-rotate(-30deg) saturate(1.5) contrast(1.2);
    }

    75% {
      filter: hue-rotate(15deg) saturate(1.2) contrast(1.1);
    }

    100% {
      filter: none;
    }
  }

  /* Estática / ruido */
  @keyframes glitch-static {
    0% {
      transform: translate(0, 0);
      opacity: 0.2;
    }

    25% {
      transform: translate(-5px, 3px);
      opacity: 0.4;
    }

    50% {
      transform: translate(3px, -4px);
      opacity: 0.3;
    }

    75% {
      transform: translate(-2px, 2px);
      opacity: 0.45;
    }

    100% {
      transform: translate(0, 0);
      opacity: 0;
    }
  }

  /* Marcos desfasados del borde */
  @keyframes glitch-frame {
    0% {
      transform: translate(0, 0);
      opacity: 0.2;
    }

    25% {
      transform: translate(4px, -4px);
      opacity: 0.5;
    }

    50% {
      transform: translate(-3px, 3px);
      opacity: 0.4;
    }

    75% {
      transform: translate(2px, -2px);
      opacity: 0.6;
    }

    100% {
      transform: translate(0, 0);
      opacity: 0;
    }
  }
</style>